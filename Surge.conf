[General]
# > åŸºç¡€è®¾ç½®

## DNS æœåŠ¡å™¨
dns-server = 119.29.29.29, 223.5.5.5

## DNS-over-HTTPS æœåŠ¡å™¨
#doh-server = https://doh.pub/dns-query, https://dns.alidns.com/dns-query

# DoH è¯·æ±‚æ ¹æ®ä»£ç†ç­–ç•¥æ‰§è¡Œ
doh-follow-outbound-mode = false

## åŠ«æŒ DNS
### ä¾‹å¦‚ Google ç³»äº§å“ä¼šæ— è§† DHCP é…ç½®å¼ºè¡Œä½¿ç”¨ 8.8.8.8 å’Œ 8.8.4.4ï¼Œéœ€è¦å¼ºè¡ŒåŠ«æŒæ‰å¯ä»¥æ­£å¸¸å·¥ä½œ
hijack-dns = 8.8.8.8:53, 8.8.4.4:53

## Internet æµ‹è¯• URL
internet-test-url = http://wifi.vivo.com.cn/generate_204

## ä»£ç†æµ‹é€Ÿ URL
proxy-test-url = http://cp.cloudflare.com/generate_204

## æµ‹è¯•è¶…æ—¶ï¼ˆç§’ï¼‰
test-timeout = 5

## IPv6 æ”¯æŒ
ipv6 = true

## è‡ªå®šä¹‰ GeoIP æ•°æ®åº“
geoip-maxmind-url = https://cdn.jsdelivr.net/gh/misakaio/chnroutes2@master/chnroutes.mmdb

# > é«˜çº§è®¾ç½®

## æ—¥å¿—çº§åˆ«
loglevel = notify

## TLS å¼•æ“
tls-provider = openssl

## ä½¿ç”¨ Network framwork
network-framework = false

## è·³è¿‡ä»£ç†
skip-proxy = localhost, *.local, injections.adguard.org, local.adguard.org, captive.apple.com, guzzoni.apple.com, 0.0.0.0/8, 10.0.0.0/8, 17.0.0.0/8, 100.64.0.0/10, 127.0.0.0/8, 169.254.0.0/16, 172.16.0.0/12, 192.0.0.0/24, 192.0.2.0/24, 192.168.0.0/16, 192.88.99.0/24, 198.18.0.0/15, 198.51.100.0/24, 203.0.113.0/24, 224.0.0.0/4, 240.0.0.0/4, 255.255.255.255/32

## è·³è¿‡ Surge VIF
tun-excluded-routes = 0.0.0.0/8, 10.0.0.0/8, 100.64.0.0/10, 127.0.0.0/8, 169.254.0.0/16, 172.16.0.0/12, 192.0.0.0/24, 192.0.2.0/24, 192.168.0.0/16, 192.88.99.0/24, 198.51.100.0/24, 203.0.113.0/24, 224.0.0.0/4, 239.255.255.250/32, 255.255.255.255/32

## ä½¿ç”¨ Surge VIF è¯·æ±‚ DNS æ—¶è¿”å›çœŸå® IP
### ä¾‹å¦‚æ¸¸æˆä¸»æœºä¼šä½¿ç”¨ STUN æŠ€æœ¯è¿›è¡Œ NAT ç©¿é€ï¼Œéœ€è¦é¢å¤–é…ç½®æ‰èƒ½æ­£å¸¸å·¥ä½œ
always-real-ip = *.msftconnecttest.com, *.msftncsi.com, *.srv.nintendo.net, *.stun.playstation.net, xbox.*.microsoft.com, *.xboxlive.com, *.logon.battlenet.com.cn, *.logon.battle.net, stun.l.google.com, network-test.debian.org, detectportal.firefox.com, resolver1.opendns.com

## æ’é™¤ç®€å•ä¸»æœºå
exclude-simple-hostnames = true

## ä½¿ç”¨ REJECT ç­–ç•¥æ—¶è¿”å›é”™è¯¯é¡µ
show-error-page-for-reject = true

## ä¸æ”¯æŒ UDP ä¼ è¾“æ—¶å›é€€æ–¹å¼
udp-policy-not-supported-behaviour = direct

# > iOS åŠŸèƒ½

## å¢å¼ºç‰ˆ Wi-Fi åŠ©ç†
### åœ¨ Wi-Fi ç½‘ç»œä¸ä½³æ—¶å°è¯•ä½¿ç”¨æ•°æ®ç½‘ç»œå»ºç«‹è¿æ¥ï¼Œå»ºè®®ä½¿ç”¨ä¸é™é‡çš„æ•°æ®æµé‡æ—¶å¼€å¯
wifi-assist = false

## Wi-Fi å…è®¸ä½¿ç”¨å±€åŸŸç½‘ä»£ç†
allow-wifi-access = false

## Wi-Fi è®¿é—® HTTP ä»£ç†ç«¯å£
wifi-access-http-port = 6152

## Wi-Fi è®¿é—® Socks5 ä»£ç†ç«¯å£
wifi-access-socks5-port = 6153

## ä¸ªäººçƒ­ç‚¹å…è®¸ä½¿ç”¨å±€åŸŸç½‘ä»£ç†
allow-hotspot-access = false

# > macOS åŠŸèƒ½

## HTTP ä»£ç†ç«¯å£
http-listen = 127.0.0.1:6152

## Socks5 ä»£ç†ç«¯å£
socks5-listen = 127.0.0.1:6153

# ä» /etc/hosts è¯»å– DNS è®°å½•
read-etc-hosts = true

# > è¿œç¨‹æ§åˆ¶

## è¿œç¨‹æ§åˆ¶å™¨
external-controller-access = password@127.0.0.1:6165

## HTTP API
http-api = password@127.0.0.1:6166

## HTTP API ä½¿ç”¨ TLS
http-api-tls = false

## HTTP API ä½¿ç”¨ç½‘é¡µæ§åˆ¶å°
http-api-web-dashboard = true

[Replica]
## éšè— Apple ç›¸å…³è¯·æ±‚
hide-apple-request = true

## éšè—å´©æºƒè¿½è¸ªå™¨è¯·æ±‚
hide-crashlytics-request = true

## éšè— UDP ä¼šè¯
hide-udp = false

[Proxy]
ğŸš€ Direct = direct

[Proxy Group]
ğŸŒ Proxy = select, ğŸš€ Direct, ğŸ•¹ AutoTest, ğŸ§¯ Fallback
ğŸ•¹ AutoTest = url-test, ğŸŒ° Example
ğŸ§¯ Fallback = fallback, ğŸŒ° Example
ğŸ‡¨ğŸ‡³ China = select, ğŸš€ Direct, ğŸŒ Proxy
ğŸ Apple = select, ğŸš€ Direct, ğŸŒ Proxy
ğŸ§² Torrent = select, ğŸš€ Direct, ğŸŒ Proxy
â–¶ï¸ Streaming = select, ğŸš€ Direct, ğŸŒ Proxy, ğŸŒ° Example
â˜ï¸ Others = select, ğŸš€ Direct, ğŸŒ Proxy
ğŸŒ° Example = select, policy-path=https://bianyuan.xyz/

[Rule]
RULE-SET, https://cdn.jsdelivr.net/gh/akafeng/surge-rules@main/Rules/Apple.conf, ğŸ Apple
RULE-SET, https://cdn.jsdelivr.net/gh/akafeng/surge-rules@main/Rules/Torrent.conf, ğŸ§² Torrent
RULE-SET, https://cdn.jsdelivr.net/gh/akafeng/surge-rules@main/Rules/Streaming/Netflix.conf, â–¶ï¸ Streaming
RULE-SET, SYSTEM, ğŸ Apple
RULE-SET, LAN, DIRECT
GEOIP, CN, ğŸ‡¨ğŸ‡³ China
FINAL, â˜ï¸ Others, dns-failed

[Host]
## Ubiquiti Amplifi Router
amplifi.lan = server:syslib

## Synology Router
router.synology.com = server:syslib

## Razer Sila Router
sila.razer.com = server:syslib

## ASUS Router
router.asus.com = server:syslib

## NETGEAR Router
routerlogin.net = server:syslib

## NETGEAR Obri Router
orbilogin.com = server:syslib

## Linksys Router
linksyssmartwifi.com = server:syslib
www.linksyssmartwifi.com = server:syslib
myrouter.local = server:syslib

## Xiaomi Mi WiFi Router
miwifi.com = server:syslib
www.miwifi.com = server:syslib

## Huawei Router
mediarouter.home = server:syslib

## TP-Link Router
tplogin.cn = server:syslib
tplinklogin.net = server:syslib

## MERCURY Router
melogin.cn = server:syslib

## FAST Router
falogin.cn = server:syslib

[SSID Setting]
TYPE:CELLULAR tfo-behaviour=force-disabled

[Panel]
QueryIP = title="Query IP", content="Please click the Refresh button", script-name=QueryIP, update-interval=60

[Script]
QueryIP = type=generic, script-path=https://cdn.jsdelivr.net/gh/akafeng/surge-rules@main/Scripts/QueryIP.js
